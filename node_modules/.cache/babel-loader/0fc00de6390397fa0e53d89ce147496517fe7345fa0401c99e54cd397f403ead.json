{"ast":null,"code":"var _jsxFileName = \"/home/steve/Development/code/medical-app/client/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { Link, useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n  const styles = {\n    // Your styles here...\n  };\n  const formik = useFormik({\n    initialValues: {\n      phone: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      phone: Yup.string().required('Phone number is required'),\n      password: Yup.string().required('Password is required')\n    }),\n    onSubmit: async values => {\n      setErrorMessage('');\n      try {\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/login`, values);\n        console.log('Login successful:', res.data);\n        navigate('/'); // Redirect to home after successful login\n      } catch (error) {\n        console.error('Login failed:', error); // Log the full error object\n        if (error.response) {\n          // Server responded with a status other than 2xx\n          console.error('Error data:', error.response.data);\n          console.error('Error status:', error.response.status);\n          setErrorMessage(error.response.data.message || 'Login failed! Please try again.');\n        } else if (error.request) {\n          // Request was made but no response was received\n          console.error('Error request:', error.request);\n          setErrorMessage('No response from the server. Please try again later.');\n        } else {\n          // Something else caused an error\n          console.error('Error message:', error.message);\n          setErrorMessage('An unexpected error occurred. Please try again.');\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: styles.title,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      style: styles.form,\n      children: [errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.generalError,\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"phone\",\n        style: styles.label,\n        children: \"Phone Number:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        id: \"phone\",\n        name: \"phone\",\n        autoComplete: \"off\",\n        placeholder: \"Enter your Phone Number\",\n        style: styles.input,\n        value: formik.values.phone,\n        onChange: formik.handleChange,\n        onFocus: e => e.target.style.border = \"1px solid darkcyan\",\n        onBlur: e => e.target.style.border = \"1px solid #ccc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), formik.touched.phone && formik.errors.phone ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.error,\n        children: formik.errors.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        style: styles.label,\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        autoComplete: \"off\",\n        placeholder: \"Enter your Password\",\n        style: styles.input,\n        value: formik.values.password,\n        onChange: formik.handleChange,\n        onFocus: e => e.target.style.border = \"1px solid darkcyan\",\n        onBlur: e => e.target.style.border = \"1px solid #ccc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), formik.touched.password && formik.errors.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.error,\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: styles.button,\n        disabled: !(formik.isValid && formik.dirty),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.link,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"SJBmKlrzrDKKyifcqCnFh0K40FQ=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useFormik","Link","useNavigate","Yup","axios","jsxDEV","_jsxDEV","Login","_s","errorMessage","setErrorMessage","navigate","styles","formik","initialValues","phone","password","validationSchema","object","string","required","onSubmit","values","res","post","process","env","REACT_APP_API_URL","console","log","data","error","response","status","message","request","style","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","form","generalError","htmlFor","label","type","id","name","autoComplete","placeholder","input","value","onChange","handleChange","onFocus","e","target","border","onBlur","touched","errors","button","disabled","isValid","dirty","link","to","_c","$RefreshReg$"],"sources":["/home/steve/Development/code/medical-app/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { Link, useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport axios from 'axios';\n\nconst Login = () => {\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n\n  const styles = {\n    // Your styles here...\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      phone: '',\n      password: '',\n    },\n    validationSchema: Yup.object({\n      phone: Yup.string().required('Phone number is required'),\n      password: Yup.string().required('Password is required'),\n    }),\n    onSubmit: async (values) => {\n      setErrorMessage('');\n      try {\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/login`, values);\n\n        console.log('Login successful:', res.data);\n        navigate('/'); // Redirect to home after successful login\n      } catch (error) {\n        console.error('Login failed:', error); // Log the full error object\n        if (error.response) {\n          // Server responded with a status other than 2xx\n          console.error('Error data:', error.response.data);\n          console.error('Error status:', error.response.status);\n          setErrorMessage(error.response.data.message || 'Login failed! Please try again.');\n        } else if (error.request) {\n          // Request was made but no response was received\n          console.error('Error request:', error.request);\n          setErrorMessage('No response from the server. Please try again later.');\n        } else {\n          // Something else caused an error\n          console.error('Error message:', error.message);\n          setErrorMessage('An unexpected error occurred. Please try again.');\n        }\n      }\n    },\n  });\n\n  return (\n    <div style={styles.container}>\n      <h3 style={styles.title}>Login</h3>\n      <form onSubmit={formik.handleSubmit} style={styles.form}>\n        {errorMessage && <div style={styles.generalError}>{errorMessage}</div>}\n\n        <label htmlFor=\"phone\" style={styles.label}>Phone Number:</label>\n        <input\n          type=\"tel\"\n          id=\"phone\"\n          name=\"phone\"\n          autoComplete=\"off\"\n          placeholder=\"Enter your Phone Number\"\n          style={styles.input}\n          value={formik.values.phone}\n          onChange={formik.handleChange}\n          onFocus={(e) => e.target.style.border = \"1px solid darkcyan\"}\n          onBlur={(e) => e.target.style.border = \"1px solid #ccc\"}\n        />\n        {formik.touched.phone && formik.errors.phone ? (\n          <div style={styles.error}>{formik.errors.phone}</div>\n        ) : null}\n\n        <label htmlFor=\"password\" style={styles.label}>Password:</label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          autoComplete=\"off\"\n          placeholder=\"Enter your Password\"\n          style={styles.input}\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          onFocus={(e) => e.target.style.border = \"1px solid darkcyan\"}\n          onBlur={(e) => e.target.style.border = \"1px solid #ccc\"}\n        />\n        {formik.touched.password && formik.errors.password ? (\n          <div style={styles.error}>{formik.errors.password}</div>\n        ) : null}\n\n        <button type=\"submit\" style={styles.button} disabled={!(formik.isValid && formik.dirty)}>\n          Login\n        </button>\n      </form>\n      <div style={styles.link}>\n        <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}